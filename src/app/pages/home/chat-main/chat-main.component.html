<!-- <div *ngIf="room==null" style="border: 1px solid black;width: 100%;height: 100%">
    selected none
</div> -->
<div *ngIf="!loading" style="border: 1px solid black;width: 100%;height: 100%;">
    Loading...
</div>
<!-- <div *ngIf="loading &&room!=null" id="chatBar" style="border: solid blue;width: 100%;height: 100%;">
    <div>
        <button (click)="add()"></button>
    </div>
    <div id="chatList">

        <div *ngFor="let item of messages" style="margin-top:1%;" class="chat mine">

            <span style="padding: 3%;">
                {{item.message}}
            </span>
        </div>

         <div class="chat theirs">hello moon</div> 
    </div>
    <div style="display: flex;">
        <div style="width: 60%">
            <input [(ngModel)]="text" (keyup.enter)="sendMessage()" style="width: 100%;">
        </div>
        <div style="width: 40%;">
            <button>Img</button>
            <button (click)="sendMessage()">Send</button>
        </div>
    </div>
</div> -->
<!-- <div *ngIf="loading &&room!=null" style="display: flex;    flex-direction: column;
;border: solid blue;width: 100%;height: 100%;overflow: hidden;">
    <div style="height: 5%;">
        <button (click)="add()"></button>
    </div>
    <div style="height: 85%;">
        
        
        <div style="flex: 1 1 20%;
        display: flex;
        flex-direction: column;
        overflow: auto;">
            <span *ngFor="let item of messages">
                <p style="  align-self: flex-end;
                background-color: lightgreen;">
                    {{item.message}}
                </p>
            </span>
        </div>
    </div>

    <div style="height: 10%;border: solid red; display: flex;">
        <div style="width: 60%">
            <input [(ngModel)]="text" (keyup.enter)="sendMessage()" style="width: 100%;">
        </div>
        <div style="width: 40%;">
            <button>Img</button>
            <button (click)="sendMessage()">Send</button>
        </div>
    </div>
</div> -->
<div *ngIf="loading" style="border:1px solid black;width: 100%;height: 100%;">

    <div class="screen">
        <div class="conversation" #scrollMe >
            <div>
                <button (click)="add()">asd</button>
            </div>
            <div *ngFor="let item of messages">
                <div *ngIf="user._id==item.user._id" class="messages messages--sent">
                    <div class="message">{{item.message}}</div>
                </div>
                <div *ngIf="user._id!==item.user._id" class="messages messages--received">
                    <div class="message">{{item.message}}</div>
                </div>

            </div>

        </div>
        <div class="text-bar">
            <div class="text-bar__field" id="form-message">
                <input type="text" [(ngModel)]="text" placeholder="Type or thumb up" (keyup.enter)="sendMessage()"
                    style="width: 100%;">

            </div>
            <div class="text-bar__thumb">
                <div class="thumb" (click)="sendMessage()"></div>

            </div>
        </div>
    </div>
</div>